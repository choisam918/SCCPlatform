# 3Dæ¨¡å¼é…ç½®èªªæ˜

æœ¬æ–‡æª”èªªæ˜3Då±•è¦½æ¨¡å¼ä¸­å¯ä»¥ä¿®æ”¹çš„åƒæ•¸å’Œè¨­ç½®ã€‚

## ğŸ“ å±•è¦½å»³å°ºå¯¸é…ç½®

åœ¨ `js/3d-gallery.js` æ–‡ä»¶é ‚éƒ¨ï¼Œå¯ä»¥ä¿®æ”¹ä»¥ä¸‹å¸¸é‡ï¼š

```javascript
const ROOM_WIDTH = 24;        // æˆ¿é–“å¯¬åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
const ROOM_DEPTH = 18;        // æˆ¿é–“æ·±åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
const ROOM_HEIGHT = 10;       // æˆ¿é–“é«˜åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
const WALL_HEIGHT = 7;        // ç‰†é¢é«˜åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
```

**å»ºè­°å€¼ç¯„åœï¼š**
- `ROOM_WIDTH`: 15-30ï¼ˆè¼ƒå°å€¼é©åˆå°‘æ•¸ç…§ç‰‡ï¼Œè¼ƒå¤§å€¼é©åˆå¤šæ•¸ç…§ç‰‡ï¼‰
- `ROOM_DEPTH`: 12-25ï¼ˆæ§åˆ¶æˆ¿é–“ç¸±æ·±ï¼‰
- `ROOM_HEIGHT`: 8-15ï¼ˆè¼ƒé«˜å€¼æ›´å®å‰ï¼‰
- `WALL_HEIGHT`: 5-9ï¼ˆé€šå¸¸ç‚º `ROOM_HEIGHT` çš„ 60-80%ï¼‰

## ğŸ–¼ï¸ ç…§ç‰‡å°ºå¯¸é…ç½®

```javascript
const PHOTO_WIDTH = 2.8;      // ç…§ç‰‡å¯¬åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
const PHOTO_HEIGHT = 2.2;     // ç…§ç‰‡é«˜åº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
const PHOTO_SPACING = 0.6;    // ç…§ç‰‡é–“è·ï¼ˆå–®ä½ï¼šç±³ï¼‰
const PHOTO_FRAME_DEPTH = 0.15; // ç›¸æ¡†åšåº¦ï¼ˆå–®ä½ï¼šç±³ï¼‰
```

**å»ºè­°å€¼ç¯„åœï¼š**
- `PHOTO_WIDTH`: 1.5-4.0ï¼ˆè¼ƒå¤§å€¼æ›´çªå‡ºï¼Œä½†æœƒæ¸›å°‘æ¯é¢ç‰†çš„ç…§ç‰‡æ•¸ï¼‰
- `PHOTO_HEIGHT`: 1.2-3.0ï¼ˆä¿æŒèˆ‡å¯¬åº¦çš„æ¯”ä¾‹ç´„ 4:3 æˆ– 16:9ï¼‰
- `PHOTO_SPACING`: 0.3-1.0ï¼ˆè¼ƒå¤§å€¼æ›´å„ªé›…ï¼Œä½†æœƒæ¸›å°‘ç…§ç‰‡æ•¸é‡ï¼‰
- `PHOTO_FRAME_DEPTH`: 0.05-0.3ï¼ˆè¼ƒå¤§å€¼æ›´ç«‹é«”ï¼‰

## ğŸ“· ç›¸æ©Ÿè¨­ç½®

åœ¨ `init3DGallery()` å‡½æ•¸ä¸­ï¼š

```javascript
// ç›¸æ©Ÿåˆå§‹ä½ç½®
camera.position.set(0, 5, 12);  // (x, y, z)
camera.lookAt(0, 3.5, 0);        // çœ‹å‘çš„ç›®æ¨™é»

// ç›¸æ©Ÿè¦–è§’ï¼ˆFOVï¼‰
camera = new THREE.PerspectiveCamera(75, aspect, 0.1, 1000);
// åƒæ•¸ï¼šè¦–è§’ã€å¯¬é«˜æ¯”ã€è¿‘å¹³é¢ã€é å¹³é¢
```

**å»ºè­°å€¼ï¼š**
- `camera.position.y`: 3-7ï¼ˆé«˜åº¦ï¼Œè¼ƒé«˜å€¼çœ‹åˆ°æ›´å¤šå¤©èŠ±æ¿ï¼‰
- `camera.position.z`: 8-15ï¼ˆè·é›¢ï¼Œè¼ƒå¤§å€¼çœ‹åˆ°æ›´å¤šæˆ¿é–“ï¼‰
- `FOV`: 60-90ï¼ˆè¼ƒå¤§å€¼è¦–è§’æ›´å»£ï¼‰

## ğŸ® æ§åˆ¶å™¨è¨­ç½®

åœ¨ `OrbitControls` è¨­ç½®ä¸­ï¼š

```javascript
controls.target.set(0, 3.5, 0);      // æ—‹è½‰ä¸­å¿ƒé»
controls.enableDamping = true;        // å•Ÿç”¨é˜»å°¼ï¼ˆå¹³æ»‘ç§»å‹•ï¼‰
controls.dampingFactor = 0.05;       // é˜»å°¼ä¿‚æ•¸ï¼ˆ0.01-0.1ï¼‰
controls.minDistance = 6;            // æœ€å°ç¸®æ”¾è·é›¢
controls.maxDistance = 60;            // æœ€å¤§ç¸®æ”¾è·é›¢
controls.maxPolarAngle = Math.PI / 2.1; // æœ€å¤§å‘ä¸Šè§’åº¦
controls.minPolarAngle = Math.PI / 6;   // æœ€å°å‘ä¸‹è§’åº¦
```

**å»ºè­°å€¼ï¼š**
- `dampingFactor`: 0.01-0.1ï¼ˆè¼ƒå°å€¼æ›´å¹³æ»‘ä½†éŸ¿æ‡‰è¼ƒæ…¢ï¼‰
- `minDistance`: 4-10ï¼ˆé˜²æ­¢ç›¸æ©Ÿå¤ªè¿‘ï¼‰
- `maxDistance`: 40-80ï¼ˆé˜²æ­¢ç›¸æ©Ÿå¤ªé ï¼‰

## ğŸ’¡ å…‰ç…§è¨­ç½®

åœ¨ `setupLighting()` å‡½æ•¸ä¸­ï¼š

```javascript
// ç’°å¢ƒå…‰
const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
// åƒæ•¸ï¼šé¡è‰²ã€å¼·åº¦ï¼ˆ0-1ï¼‰

// ä¸»æ–¹å‘å…‰
const mainLight = new THREE.DirectionalLight(0xffffff, 1.2);
mainLight.position.set(0, 12, 0);
// åƒæ•¸ï¼šé¡è‰²ã€å¼·åº¦ã€ä½ç½®

// è£œå……å…‰æº
const sideLight1 = new THREE.DirectionalLight(0xffffff, 0.6);
sideLight1.position.set(8, 6, 8);
```

**å»ºè­°å€¼ï¼š**
- ç’°å¢ƒå…‰å¼·åº¦ï¼š0.5-0.9ï¼ˆè¼ƒå¤§å€¼æ¸›å°‘é™°å½±ï¼‰
- ä¸»å…‰æºå¼·åº¦ï¼š0.8-1.5ï¼ˆè¼ƒå¤§å€¼æ›´æ˜äº®ï¼‰
- è£œå……å…‰æºå¼·åº¦ï¼š0.3-0.8ï¼ˆç”¨æ–¼æ¸›å°‘é™°å½±ï¼‰

## ğŸ¨ æè³ªè¨­ç½®

### åœ°é¢æè³ª
```javascript
const floorMaterial = new THREE.MeshStandardMaterial({
    color: 0xe0e0e0,      // é¡è‰²ï¼ˆåå…­é€²åˆ¶ï¼‰
    roughness: 0.6,       // ç²—ç³™åº¦ï¼ˆ0-1ï¼Œè¼ƒå°å€¼æ›´å…‰æ»‘ï¼‰
    metalness: 0.1        // é‡‘å±¬æ„Ÿï¼ˆ0-1ï¼‰
});
```

### ç‰†é¢æè³ª
```javascript
const wallMaterial = new THREE.MeshStandardMaterial({
    color: 0xffffff,      // ç™½è‰²ç‰†é¢
    roughness: 0.4        // ç¨å¾®å…‰æ»‘
});
```

### ç›¸æ¡†æè³ª
```javascript
const frameMaterial = new THREE.MeshStandardMaterial({
    color: 0x6b5b4f,      // æ·±æ£•è‰²ç›¸æ¡†
    roughness: 0.3,       // è¼ƒå…‰æ»‘
    metalness: 0.1        // è¼•å¾®é‡‘å±¬æ„Ÿ
});
```

**é¡è‰²å»ºè­°ï¼š**
- åœ°é¢ï¼š`0xd0d0d0`ï¼ˆæ·ºç°ï¼‰åˆ° `0xf0f0f0`ï¼ˆæ¥µæ·ºç°ï¼‰
- ç‰†é¢ï¼š`0xffffff`ï¼ˆç´”ç™½ï¼‰åˆ° `0xfafafa`ï¼ˆæš–ç™½ï¼‰
- ç›¸æ¡†ï¼š`0x8b7355`ï¼ˆæ£•è‰²ï¼‰åˆ° `0x4a4a4a`ï¼ˆæ·±ç°ï¼‰

## ğŸ“ ç…§ç‰‡å¸ƒå±€ç®—æ³•

åœ¨ `calculatePhotoPositions()` å‡½æ•¸ä¸­ï¼š

```javascript
const margin = 2.5;  // ç‰†é‚Šè·ï¼ˆå–®ä½ï¼šç±³ï¼‰
```

**å»ºè­°å€¼ï¼š**
- `margin`: 1.5-3.5ï¼ˆè¼ƒå¤§å€¼æ›´å„ªé›…ï¼Œä½†æœƒæ¸›å°‘å¯ç”¨ç©ºé–“ï¼‰

## ğŸ¯ ç…§ç‰‡åˆ†é…ç­–ç•¥

åœ¨ `loadPhotosToScene()` å‡½æ•¸ä¸­ï¼Œå¯ä»¥ä¿®æ”¹ç…§ç‰‡åˆ†é…åˆ°å„ç‰†é¢çš„é‚è¼¯ï¼š

- **1-3å¼µ**ï¼šåªæ”¾åœ¨å‰ç‰†
- **4-5å¼µ**ï¼šå‰ç‰†ç‚ºä¸»ï¼Œå¾Œç‰†1å¼µ
- **6-8å¼µ**ï¼šå‰å¾Œç‰†å¹³è¡¡åˆ†é…
- **9-12å¼µ**ï¼šå‰å¾Œç‰†ç‚ºä¸»ï¼Œå´ç‰†é»ç¶´
- **13å¼µä»¥ä¸Š**ï¼šå››é¢ç‰†å‡å‹»åˆ†é…

å¯ä»¥æ ¹æ“šéœ€è¦èª¿æ•´å„ç‰†é¢çš„ç…§ç‰‡æ¯”ä¾‹ã€‚

## ğŸ¬ å‹•ç•«è¨­ç½®

åœ¨ `animate()` å‡½æ•¸ä¸­ï¼Œå¯ä»¥æ·»åŠ å‹•ç•«æ•ˆæœï¼š

```javascript
// ä¾‹å¦‚ï¼šç…§ç‰‡æ—‹è½‰å‹•ç•«
photoFrames.forEach(frame => {
    frame.rotation.y += 0.001;
});
```

## ğŸ”§ å…¶ä»–å¯ä¿®æ”¹é …

1. **èƒŒæ™¯é¡è‰²**ï¼š
   ```javascript
   scene.background = new THREE.Color(0xfafafa);
   renderer.setClearColor(0xfafafa, 1);
   ```

2. **é™°å½±è¨­ç½®**ï¼š
   ```javascript
   renderer.shadowMap.enabled = true;
   renderer.shadowMap.type = THREE.PCFSoftShadowMap; // æŸ”å’Œé™°å½±
   ```

3. **æŠ—é‹¸é½’**ï¼š
   ```javascript
   renderer = new THREE.WebGLRenderer({
       antialias: true  // å•Ÿç”¨æŠ—é‹¸é½’
   });
   ```

4. **ç´‹ç†è³ªé‡**ï¼š
   ```javascript
   texture.anisotropy = renderer.capabilities.getMaxAnisotropy();
   ```

## ğŸ“ ä¿®æ”¹æ­¥é©Ÿ

1. æ‰“é–‹ `js/3d-gallery.js` æ–‡ä»¶
2. æ‰¾åˆ°è¦ä¿®æ”¹çš„åƒæ•¸
3. ä¿®æ”¹æ•¸å€¼
4. ä¿å­˜æ–‡ä»¶
5. åˆ·æ–°ç€è¦½å™¨ï¼ˆæŒ‰ `Ctrl+F5` å¼·åˆ¶åˆ·æ–°ï¼‰

## âš ï¸ æ³¨æ„äº‹é …

- ä¿®æ”¹å¾Œå»ºè­°æ¸…é™¤ç€è¦½å™¨ç·©å­˜
- æŸäº›åƒæ•¸éå¤§å¯èƒ½å°è‡´æ€§èƒ½å•é¡Œ
- ç…§ç‰‡å°ºå¯¸å’Œé–“è·éœ€è¦èˆ‡æˆ¿é–“å°ºå¯¸åŒ¹é…
- å…‰ç…§å¼·åº¦éé«˜å¯èƒ½å°è‡´éæ›

## ğŸ¨ ä¸»é¡Œå»ºè­°

### ç¾ä»£ç°¡ç´„é¢¨æ ¼
- æˆ¿é–“ï¼šè¼ƒå¤§å°ºå¯¸ï¼ˆ24x18x10ï¼‰
- ç…§ç‰‡ï¼šä¸­ç­‰å°ºå¯¸ï¼ˆ2.5x2.0ï¼‰
- é–“è·ï¼šè¼ƒå¤§ï¼ˆ0.8ï¼‰
- é¡è‰²ï¼šç´”ç™½ç‰†é¢ï¼Œæ·ºç°åœ°é¢

### å¤å…¸å±•è¦½é¢¨æ ¼
- æˆ¿é–“ï¼šä¸­ç­‰å°ºå¯¸ï¼ˆ20x15x8ï¼‰
- ç…§ç‰‡ï¼šè¼ƒå¤§å°ºå¯¸ï¼ˆ3.0x2.4ï¼‰
- é–“è·ï¼šä¸­ç­‰ï¼ˆ0.6ï¼‰
- é¡è‰²ï¼šæš–ç™½ç‰†é¢ï¼Œæ·±è‰²ç›¸æ¡†

### ç·Šæ¹Šå±•ç¤ºé¢¨æ ¼
- æˆ¿é–“ï¼šè¼ƒå°å°ºå¯¸ï¼ˆ18x12x7ï¼‰
- ç…§ç‰‡ï¼šè¼ƒå°å°ºå¯¸ï¼ˆ2.0x1.6ï¼‰
- é–“è·ï¼šè¼ƒå°ï¼ˆ0.4ï¼‰
- é¡è‰²ï¼šç™½è‰²ç‰†é¢ï¼Œæ·ºè‰²åœ°é¢









